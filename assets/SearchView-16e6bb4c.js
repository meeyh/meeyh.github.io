import{a as q,b as S,P as x,s as P}from"./useRandomPlaceholder-ac31771d.js";import{N}from"./Select-19623efd.js";import{d as f,g,H as y,K as r,G as _,r as v,N as R,E as b,L as h,R as C,J as d,S as I,U,F as V,_ as k,P as B,I as Q,D as w,Q as F}from"./index-465f535f.js";import{_ as H}from"./PageInfos.vue_vue_type_script_setup_true_lang-76bdb762.js";import{u as $}from"./index-bb3ca064.js";import"./getPages-5a87222e.js";import"./platform-2d13a2e4.js";import"./Desktop16Regular-72b5cd36.js";import"./language-04052e06.js";import"./Icon-9e9df400.js";import"./format-length-d5ba3936.js";import"./Button-ab464e71.js";import"./usePageCommand-9db14b67.js";import"./Tag-aa43384d.js";import"./call-7e0089d6.js";import"./Popover-c6aba41b.js";import"./VResizeObserver-999483c4.js";import"./Ellipsis-b4cfa156.js";import"./p-019edca6.js";import"./Skeleton-d4260170.js";import"./Divider-4a0012e0.js";import"./Popselect-0b81028a.js";const E=f({__name:"PageSearchQueryInput",props:{query:{}},emits:["update:query"],setup(c,{emit:u}){const s=c,{placeholder:n}=q(),a=g({get:()=>s.query,set:e=>u("update:query",e)});return(e,t)=>(_(),y(r(N),{value:a.value,"onUpdate:value":t[0]||(t[0]=i=>a.value=i),type:"text",placeholder:r(n)},null,8,["value","placeholder"]))}});const z={class:"search-combined"},A=f({__name:"PageSearch",props:{query:{}},emits:["update:query"],setup(c,{emit:u}){const s=c,n=v(!0),a=R(),{config:e}=S(),t=g({get:()=>s.query,set:m=>u("update:query",m)}),i=b(async()=>{const m=n.value;if(n.value=!1,t.value==="")return[];const o=e.value.languages,p=e.value.platforms,l=await P(t.value,{languages:o,platforms:p});return console.debug(l),m&&l.length>=1&&l[0].basename===t.value&&a.push(l[0].path),l},[]);return(m,o)=>(_(),h(V,null,[C("div",z,[d(E,{config:r(e),query:t.value,"onUpdate:query":o[0]||(o[0]=p=>t.value=p)},null,8,["config","query"]),d(x,{config:r(e),"onUpdate:config":o[1]||(o[1]=p=>I(e)?e.value=p:null)},null,8,["config"])]),r(i).length!==0?(_(),y(H,{key:0,pages:r(i),pageSize:3},null,8,["pages"])):U("",!0)],64))}});const D=k(A,[["__scopeId","data-v-f53a2348"]]),ce=f({__name:"SearchView",setup(c){const u=$("query",""),s=v(u.value);return B({title:"Search | tldr Me",meta:[{name:"description",content:"Search for tldr-pages."}]}),(n,a)=>(_(),h("main",null,[d(r(F),{prefix:"bar","align-text":""},{default:Q(()=>[w("Search")]),_:1}),d(D,{query:s.value,"onUpdate:query":a[0]||(a[0]=e=>s.value=e)},null,8,["query"])]))}});export{ce as default};
