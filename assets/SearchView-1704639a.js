import{a as q,b as S,P as x,s as P}from"./useRandomPlaceholder-35bcbee3.js";import{N}from"./Select-baadafe6.js";import{d as f,g,H as y,K as r,G as _,r as v,N as R,E as b,L as h,R as C,J as d,S as I,U,F as V,_ as k,P as B,I as Q,D as w,Q as F}from"./index-d5026f7b.js";import{_ as H}from"./PageInfos.vue_vue_type_script_setup_true_lang-84486f66.js";import{u as $}from"./index-dc678aa9.js";import"./getPages-71ee583f.js";import"./platform-c1fe7219.js";import"./Desktop16Regular-2c9962c7.js";import"./language-38dd8b1f.js";import"./Icon-31c39865.js";import"./format-length-46fade60.js";import"./Button-83299e2f.js";import"./usePageCommand-01d77dc6.js";import"./Tag-4b4c44c9.js";import"./call-7e0089d6.js";import"./Popover-d6435fef.js";import"./VResizeObserver-f2da7c01.js";import"./Ellipsis-e57ad811.js";import"./p-8d3b5ea9.js";import"./Skeleton-810cb0fa.js";import"./Divider-0189c2ae.js";import"./Popselect-961688f6.js";const E=f({__name:"PageSearchQueryInput",props:{query:{}},emits:["update:query"],setup(c,{emit:u}){const s=c,{placeholder:n}=q(),a=g({get:()=>s.query,set:e=>u("update:query",e)});return(e,t)=>(_(),y(r(N),{value:a.value,"onUpdate:value":t[0]||(t[0]=i=>a.value=i),type:"text",placeholder:r(n)},null,8,["value","placeholder"]))}});const z={class:"search-combined"},A=f({__name:"PageSearch",props:{query:{}},emits:["update:query"],setup(c,{emit:u}){const s=c,n=v(!0),a=R(),{config:e}=S(),t=g({get:()=>s.query,set:m=>u("update:query",m)}),i=b(async()=>{const m=n.value;if(n.value=!1,t.value==="")return[];const o=e.value.languages,p=e.value.platforms,l=await P(t.value,{languages:o,platforms:p});return console.debug(l),m&&l.length>=1&&l[0].basename===t.value&&a.push(l[0].path),l},[]);return(m,o)=>(_(),h(V,null,[C("div",z,[d(E,{config:r(e),query:t.value,"onUpdate:query":o[0]||(o[0]=p=>t.value=p)},null,8,["config","query"]),d(x,{config:r(e),"onUpdate:config":o[1]||(o[1]=p=>I(e)?e.value=p:null)},null,8,["config"])]),r(i).length!==0?(_(),y(H,{key:0,pages:r(i),pageSize:3},null,8,["pages"])):U("",!0)],64))}});const D=k(A,[["__scopeId","data-v-f53a2348"]]),ce=f({__name:"SearchView",setup(c){const u=$("query",""),s=v(u.value);return B({title:"Search | tldr Me",meta:[{name:"description",content:"Search for tldr me"}]}),(n,a)=>(_(),h("main",null,[d(r(F),{prefix:"bar","align-text":""},{default:Q(()=>[w("Search")]),_:1}),d(D,{query:s.value,"onUpdate:query":a[0]||(a[0]=e=>s.value=e)},null,8,["query"])]))}});export{ce as default};
